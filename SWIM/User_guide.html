
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>SWIM: User guide &#8212; (Exo)Planetary Atmosphere: the Impact of Stars and Solar Physics on Habitability and Life</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SWIM: Stellar Wind and Irradiance Module" href="Stellar_Wind_and_Irradiance_Module.html" />
    <link rel="prev" title="(Exo)Planetary Atmosphere" href="../index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">(Exo)Planetary Atmosphere: the Impact of Stars and Solar Physics on Habitability and Life</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    (Exo)Planetary Atmosphere
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  SWIM code
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   SWIM: User guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Stellar_Wind_and_Irradiance_Module.html">
   SWIM: Stellar Wind and Irradiance Module
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/SWIM/User_guide.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#authors-and-contributers">
   Authors and contributers:
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#user-guide">
   User Guide
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-1-import-required-modules">
     Cell 1: Import required modules
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-2-access-the-muscles-database">
     Cell 2: Access the MUSCLES database
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-3-select-muscles-star">
     Cell 3: Select MUSCLES star
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-4-read-in-muscles-data-and-assign-to-arrays">
     Cell 4: Read in MUSCLES data and assign to arrays
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-5-select-climate-model-for-output">
     Cell 5: Select climate model for output
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-6-assign-wavelength-grid-from-target-model">
     Cell 6: Assign wavelength grid from target model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-7-access-the-exoplanet-archive-and-choose-exoplanet">
     Cell 7: Access the Exoplanet Archive and choose exoplanet
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-8-rebin-spectra-to-target-model-and-rescale-to-exoplanet-irradiance">
     Cell 8: Rebin spectra to target model and rescale to exoplanet irradiance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-9-plot-scaled-spectra">
     Cell 9: Plot scaled spectra
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-11-save-spectrum-to-file">
     Cell 11: Save spectrum to file
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-12-clean-up-directory">
     Cell 12: Clean up directory
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>SWIM: User guide</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#authors-and-contributers">
   Authors and contributers:
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#user-guide">
   User Guide
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-1-import-required-modules">
     Cell 1: Import required modules
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-2-access-the-muscles-database">
     Cell 2: Access the MUSCLES database
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-3-select-muscles-star">
     Cell 3: Select MUSCLES star
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-4-read-in-muscles-data-and-assign-to-arrays">
     Cell 4: Read in MUSCLES data and assign to arrays
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-5-select-climate-model-for-output">
     Cell 5: Select climate model for output
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-6-assign-wavelength-grid-from-target-model">
     Cell 6: Assign wavelength grid from target model
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-7-access-the-exoplanet-archive-and-choose-exoplanet">
     Cell 7: Access the Exoplanet Archive and choose exoplanet
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-8-rebin-spectra-to-target-model-and-rescale-to-exoplanet-irradiance">
     Cell 8: Rebin spectra to target model and rescale to exoplanet irradiance
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-9-plot-scaled-spectra">
     Cell 9: Plot scaled spectra
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-11-save-spectrum-to-file">
     Cell 11: Save spectrum to file
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cell-12-clean-up-directory">
     Cell 12: Clean up directory
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="swim-user-guide">
<h1>SWIM: User guide<a class="headerlink" href="#swim-user-guide" title="Permalink to this headline">#</a></h1>
<section id="authors-and-contributers">
<h2>Authors and contributers:<a class="headerlink" href="#authors-and-contributers" title="Permalink to this headline">#</a></h2>
<p>Gregory Cooke (University of Leeds, pygjc@leeds.ac.uk)</p>
</section>
<section id="user-guide">
<h2>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">#</a></h2>
<p>To run the SWIM code, you first need to clone the repository. Open a terminal and navigate to where you would like the code to be placed.</p>
<p>Now type: git clone https://github.com/jack-eddy-symposium/exoplanetary-impact.git</p>
<p>Once you have the repository on your local machine, open up a Jupyter notebook. There are multiple ways to do this. See <a class="reference external" href="https://jupyter.org/install">https://jupyter.org/install</a> for Jupyter Notebook installation.</p>
<section id="cell-1-import-required-modules">
<h3>Cell 1: Import required modules<a class="headerlink" href="#cell-1-import-required-modules" title="Permalink to this headline">#</a></h3>
<p>Run the first cell to import the necessary python libraries. If any errors occur at this step, then you lkely need to install some libraries. You may not have xarray, for example. In this case, in the terminal, run the following command: <i>conda install -c anaconda xarray</i>. Similar commands can be used to install other packages. See the packages at <a class="reference external" href="https://anaconda.org/anaconda/">https://anaconda.org/anaconda/</a> for more details.</p>
<p>In the following cells, dropdown widgets will appear once the cell has been run.</p>
</section>
<section id="cell-2-access-the-muscles-database">
<h3>Cell 2: Access the MUSCLES database<a class="headerlink" href="#cell-2-access-the-muscles-database" title="Permalink to this headline">#</a></h3>
<p>For the data type selection, the final result should not depend too much on whether you select: ‘Constant native resolution’, ‘Variable native resolution’, ‘Constant adaptive resolution’, or ‘Variable adaptive resolution’. However, if you want to compare to the original data, then select the format you require. A description of the formats can be found at <a class="reference external" href="https://archive.stsci.edu/prepds/muscles/">https://archive.stsci.edu/prepds/muscles/</a>.</p>
</section>
<section id="cell-3-select-muscles-star">
<h3>Cell 3: Select MUSCLES star<a class="headerlink" href="#cell-3-select-muscles-star" title="Permalink to this headline">#</a></h3>
<p>The list of stars in the MUSCLES database is listed. Select which star you would like to download the spectra for.</p>
</section>
<section id="cell-4-read-in-muscles-data-and-assign-to-arrays">
<h3>Cell 4: Read in MUSCLES data and assign to arrays<a class="headerlink" href="#cell-4-read-in-muscles-data-and-assign-to-arrays" title="Permalink to this headline">#</a></h3>
<p>This cell downloads and reads in the MUSCLES data. No options need to be selected.</p>
</section>
<section id="cell-5-select-climate-model-for-output">
<h3>Cell 5: Select climate model for output<a class="headerlink" href="#cell-5-select-climate-model-for-output" title="Permalink to this headline">#</a></h3>
<p>Run this cell and select the target model you would like to use. This will affect how the spectra will be rebinned and rescaled in order to be compatible with the model you have selected. If you do not see the model you would like to use, but you think SWIM would be useful for your model, please get in touch at pygjc&#64;leeds.ac.uk.</p>
</section>
<section id="cell-6-assign-wavelength-grid-from-target-model">
<h3>Cell 6: Assign wavelength grid from target model<a class="headerlink" href="#cell-6-assign-wavelength-grid-from-target-model" title="Permalink to this headline">#</a></h3>
<p>This cell will download the wavelength and flux file needed for the target model if it is not already downloaded. The file will be used later for rebinning and saving out the final spectra file. No options are required to be selected.</p>
</section>
<section id="cell-7-access-the-exoplanet-archive-and-choose-exoplanet">
<h3>Cell 7: Access the Exoplanet Archive and choose exoplanet<a class="headerlink" href="#cell-7-access-the-exoplanet-archive-and-choose-exoplanet" title="Permalink to this headline">#</a></h3>
<p>Using the python library pandas, the notebook accessess the NASA exoplanet archive <a class="reference external" href="https://exoplanetarchive.ipac.caltech.edu/">https://exoplanetarchive.ipac.caltech.edu/</a>. the NASA exoplanet archive has several listings for each planet if there ate multiple observations. By default, the notebook selects the most recent update by sorting through the archive by when the row was last updated, and then selecting the fianl row:</p>
<p><i>#find semi-major axis in AU</p>
<p>pl = pl.sort_values(by=[‘rowupdate’])</p>
<p>semi_major_axis = pl[‘pl_orbsmax’].iloc[-1]&lt;\i&gt;</p>
<p>If you would like a different selection, you may want to alter the code in Rebin_rescale_spectra.py.</p>
<p>You should now have a list of planets that orbit the star you originally selected from the MUSCLES database. If you want to select a planet around a different star, but keep the same spectra, then set Spectra_name_same_as_host_name to <i>False</i></p>
</section>
<section id="cell-8-rebin-spectra-to-target-model-and-rescale-to-exoplanet-irradiance">
<h3>Cell 8: Rebin spectra to target model and rescale to exoplanet irradiance<a class="headerlink" href="#cell-8-rebin-spectra-to-target-model-and-rescale-to-exoplanet-irradiance" title="Permalink to this headline">#</a></h3>
<p>This cell rebins and rescales the spectra to the necessary irradiance at the chosen planet. The code for doing this is in Rebin_rescale_spectra.py.</p>
</section>
<section id="cell-9-plot-scaled-spectra">
<h3>Cell 9: Plot scaled spectra<a class="headerlink" href="#cell-9-plot-scaled-spectra" title="Permalink to this headline">#</a></h3>
<p>Running this cell will plot the spectrum next to the spectrum of the Sun for comparioson. Plot_spectrum.py contains the code for this. If you are happy that eveverything looks good, move onto the next cell to save a file of this spectrum for your chosen model.</p>
</section>
<section id="cell-11-save-spectrum-to-file">
<h3>Cell 11: Save spectrum to file<a class="headerlink" href="#cell-11-save-spectrum-to-file" title="Permalink to this headline">#</a></h3>
<p>This cell will write the new rescaled and rebinned spectrum to a file containing a wavelength grid with flux values. We plan to add in detailed metadata for each file that is saved out.</p>
</section>
<section id="cell-12-clean-up-directory">
<h3>Cell 12: Clean up directory<a class="headerlink" href="#cell-12-clean-up-directory" title="Permalink to this headline">#</a></h3>
<p>This cell cleans up the directory and removes any .fits files that were downloaded from the MUSCLES website. Do not run if you would like to view them.</p>
<p><a class="reference external" href="http://creativecommons.org/licenses/by/4.0/"><img alt="CC BY 4.0" src="https://img.shields.io/badge/License-CC%20BY%204.0-lightgrey.svg" /></a></p>
<p>This work is licensed under a
<a class="reference external" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>
<p><a class="reference external" href="http://creativecommons.org/licenses/by/4.0/"><img alt="CC BY 4.0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a></p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./SWIM"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">(Exo)Planetary Atmosphere</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Stellar_Wind_and_Irradiance_Module.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">SWIM: Stellar Wind and Irradiance Module</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Greg Cooke, Dan Marsh. Book originally made by Fernando Pérez.<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>